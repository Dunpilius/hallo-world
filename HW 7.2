/*Написать игру «Быки и коровы». Программа "загадывает" четырёхзначное число и
играющий должен угадать его. После ввода пользователем числа программа сообщает,
сколько цифр числа угадано (быки) и сколько цифр угадано и стоит на нужном месте
(коровы). После отгадывания числа на экран необходимо вывести количество сделанных
пользователем попыток. В программе необходимо использовать рекурсию.*/


#include <stdio.h> 
#include <stdlib.h>
#include <time.h>

int countingBulls(int userNumber, int compNumber);
int countingCows(int userNumber, int compNumber);

int main()
{
	srand(time(0));
	int userNumber;
	int compNumber;
	compNumber = rand() % 9000 + 1000;
	printf("%i \n", compNumber);
	printf("Enter your number \n");
	scanf("%i", &userNumber);
	
	while (userNumber != compNumber)
	{
		countingBulls(userNumber, compNumber);
		printf("Correct numbers %i \n", countingBulls(userNumber, compNumber)/4);
		printf("Correct position %i \n", countingCows(userNumber, compNumber));
		
		scanf("%i", &userNumber);
	}
	
}

int countingBulls(int userNumber, int compNumber)
{	
		int count = 0;
		int divider = 1;

		while ((compNumber / divider) > 0)
			{
				int compSeparateNumber = (compNumber / divider) % 10;
				for (int i = 0; i < 4; i ++)
				{
					int dividerTwo = 1;
					while ((userNumber / dividerTwo) > 0)
					{
						int userSeparateNumber = (userNumber / dividerTwo) % 10;
						dividerTwo = dividerTwo * 10;
						if (compSeparateNumber == userSeparateNumber)
						{
							count++;
						}
					}
				}
				divider = divider * 10;
			}
		return count ;
}

int countingCows(int userNumber, int compNumber)
{
   int count = 0;
		int divider = 1;

		while ((compNumber / divider) > 0)
			{
				int compSeparateNumber = (compNumber / divider) % 10;
				int userSeparateNumber = (userNumber / divider) % 10;
				divider = divider * 10;
					if (compSeparateNumber == userSeparateNumber)
					{
					    count++;
					}
					return count ;
			}
}
