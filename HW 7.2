/*Написать игру «Быки и коровы». Программа "загадывает" четырёхзначное число и
играющий должен угадать его. После ввода пользователем числа программа сообщает,
сколько цифр числа угадано (быки) и сколько цифр угадано и стоит на нужном месте
(коровы). После отгадывания числа на экран необходимо вывести количество сделанных
пользователем попыток. В программе необходимо использовать рекурсию.*/

#include <stdio.h> 
#include <stdlib.h>
#include <time.h>

int countingBulls(int userNumber, int compNumber);
//int countingCows(int compNumber);

int main()
{
	srand(time(0));
	int userNumber;
	int compNumber;
	compNumber = rand() % 9000 + 1000;
	printf("%i \n", compNumber);
	printf("Enter your number \n");
	scanf("%i", &userNumber);
	
	while (userNumber != compNumber)
	{
		countingBulls(userNumber, compNumber);
		printf("Correct numbers %i \n", countingBulls(userNumber, compNumber)/4);
		scanf("%i", &userNumber);
	}
	
}

int countingBulls(int userNumber, int compNumber)
{	
		int count = 0;
		int divider = 1;

		while ((compNumber / divider) > 0)
			{
				int compSeparateNumber = (compNumber / divider) % 10;
				for (int i = 0; i < 4; i ++)
				{
					int dividerTwo = 1;
					while ((userNumber / dividerTwo) > 0)
					{
						int userSeparateNumber = (userNumber / dividerTwo) % 10;
						dividerTwo = dividerTwo * 10;
						if (compSeparateNumber == userSeparateNumber)
						{
							count++;
						}
					}
				}
				divider = divider * 10;
			}
		return count ;
}

int main()
{
	srand(time(0));
	
	int count = 0;
	int divider = 1;	
	int numOne = 0;
	int numTwo = 0;
	int numThree = 0;
	int numFour = 0;
	
	int compNumber = rand() % 9000 + 1000;
	printf("1 - %i \n", compNumber);

	 numOne = (compNumber) % 10;
	 numTwo = (compNumber / 10) % 10;
	 numThree = (compNumber / 100) % 10;
	 numFour = (compNumber / 1000) % 10;

	while ((((numOne - numTwo) == 0) || ((numOne - numThree) == 0) || ((numOne - numFour) == 0)
		|| ((numTwo - numThree) == 0) || ((numTwo - numFour) == 0) || ((numThree - numFour) == 0)))

	{
		compNumber = rand() % 9000 + 1000;
		printf("2 - %i \n", compNumber);

		numOne = (compNumber) % 10;
		numTwo = (compNumber / 10) % 10;
		numThree = (compNumber / 100) % 10;
		numFour = (compNumber / 1000) % 10;

	}
}
